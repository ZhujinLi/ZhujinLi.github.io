<!DOCTYPE html><html><head><title>Compression 101 - DemoHut</title><link rel="stylesheet" href="/main.css"></head><body><div class="jumbotron jumbotron-fluid text-monospace" id="jumbotron"><div class="container" style="position: relative"><h1><a href="/">DemoHut</a></h1><a class="text-secondary" href="/about_me.json" target="_blank" style="position: absolute; right: 15px; bottom: 0px;">About me</a></div></div><div class="container"><form class="text-right" action="/"><button class="btn btn-outline-primary" type="submit">← all posts</button></form><div class="display-4"><p>Compression 101</p></div><div id="content"><p>Strangely enough, for these many years I've learnt programming, never have I tried compressing a file with hand-written code.</p><p><strong>Huffman encoding</strong> is one of the most classic lossless compression algorithms. Here I'm using it to compress/decompress files as a coding practice.</p><p>It turns out to be more difficult than I expected, as there are quite a lot of things to consider about:</p><ul><li>Binary format design</li><li>File IO</li><li>Binary tree</li><li>Priority queue (optional, for optimization of codebook generation)</li><li>Bit stream reader/writer (the most tricky and buggy one)</li><li>State machine (not necessary if performance is not the concern)</li></ul><input id="input-file" type="file"><hr><div class="text-monospace" id="info" style="display: none"><h5>Original size</h5><p id="text-orig-size"></p><h5>Compressed size</h5><p id="text-comp-size"></p><h5>Compression ratio</h5><p id="text-comp-ratio"></p><h5>Compression time</h5><p id="text-comp-time"></p><h5>Decompression time</h5><p id="text-decomp-time"></p><h5>Verification</h5><p id="text-verify"></p><h5>Histogram</h5><div style="position: relative; width: 4000px; height: 200px"><canvas id="chart-hist"></canvas></div><h5>Code book</h5><table class="table small col-md-6" id="table-codes"></table></div><div class="alert-info">What is the probability that the compressed size is exactly the same? I've encountered one in the first few minutes of testing.
</div><hr><div class="sub-title">Decompressor
</div><input id="input-file-decomp" type="file"><script src="./subj-compression.js" type="module"></script></div><a class="text-right" href="https://gitee.com/xyuv/xyuv/tree/master/_source_code/src/subjs/subj-compression" target="_blank"><p>→ view src</p></a><div class="hr-theme-slash-2"><div class="hr-line l"></div><div class="hr-icon"><a href="https://www.cnblogs.com/xrst"><img src="/links/cnblogs.png" height="32px"></a></div><div class="hr-icon"><a href="http://jsrun.net/u/zjli"><img src="/links/jsrun.png" height="32px"></a></div><div class="hr-icon"><a href="https://github.com/ZhujinLi"><img src="/links/github.png" height="32px"></a></div><div class="hr-icon"><a href="https://www.shadertoy.com/user/zjli"><img src="/links/shadertoy.png" height="32px"></a></div><div class="hr-line r"></div></div></div><script src="/main.js" type="module"></script></body></html>